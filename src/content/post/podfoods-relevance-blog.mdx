---
publishDate: 2024-08-15T08:45:00Z
author: danielsgriffin
title: 'Search Relevance Exploration: Pod Foods'
excerpt: 'Exploring eCommerce search with the Pod Foods wholesale grocery distribution catalog.'
image: https://cdn.trieve.ai/github/trieve-podfoods-demo-screenshot.webp
category: Explore
tags:
  - demo
  - relevance
  - SPLADE
---

import ImageComparison from '~/components/common/ImageComparison.astro';
import TextBox from '~/components/common/TextBox.astro';
import QueryDiscussion from '~/components/common/QueryDiscussion.astro';

## Introduction

Trieve focuses on helping our customers build great discovery experiences. [Pod Foods](https://podfoods.co/) is a wholesale grocery distribution company with a search platform for its B2B marketplace. Their current search is provided by Objective, Inc.

Keyword search is enough for the vast majority of queries when someone knows what they're looking for, but less so when you're exploring. Pod Foods is really interesting because they are likely to have a significant number of users exploring rather than checking if a specific item is present. The whole point of the company is **to help retailers find new independent brands and help those brands be found**. So if discovery-focused search is not supported well, it's a big deal.

Pod Foods is not our customer, but at Trieve we've been wanting an opportunity to showcase our search infrastructure in an e-commerce context. Trieve's vector based search for semantic, fulltext, and hybrid modes is uniquely well-suited to Pod Foods' dataset. So we've built out a demo within a limited mockup of their website.

- **Live demo:** [podfoods.trieve.ai](https://podfoods.trieve.ai)
- **GitHub repo:** [devflowinc/podfoods-discovery](https://github.com/devflowinc/podfoods-discovery)

## Relevance Comparisons

I've compiled several relevance comparisons between the existing search in Pod Foods and Trieve's **fulltext** search. Our fulltext search uses **[SPLADE](https://github.com/naver/splade), a sparse neural search retrieval model**.

<TextBox>
The demo also shows two other search types: **semantic**, a dense vector search using cosine distance vectors (here using [Jina english embeddings](https://jina.ai/news/jina-ai-launches-worlds-first-open-source-8k-text-embedding-rivaling-openai)), and **hybrid**, which takes in results from both fulltext and hybrid and re-ranks with a cross-encoder model (here the [BAAI/bge-reranker-large](https://huggingface.co/BAAI/bge-reranker-large)).
</TextBox>

### A Motivating Example: Searching for Natural, Healthy, Real Fruit Toaster Pastries

Pod Food's Chief Merchandising Officer [posted on LinkedIn about the natural Ghetto Gastro toaster pastries in their catalog](https://www.linkedin.com/posts/peter-gialantzis-a14a1b88_cpg-naturalfoods-garbage-activity-7221838546095992832-Gxd0?utm_source=share&utm_medium=member_desktop). In the current search, searching for **toaster pastries** successfully returns the Ghetto Gastro pastries at the top, but adding words like "natural", "healthy", "real fruit" to the search query shoves toaster pastries out of the top results. In Trieve, each of those queries has the Ghetto Gastro pastries at the top. Since **SPLADE expands both the query and indexed documents with relevant terms**, the retrieval model scores these results higher even when there is not an exact match. The additional terms don't force the results to drift away from the toaster pastries. 

<QueryDiscussion query="toaster pastries">
</QueryDiscussion>

<ImageComparison
  query="toaster pastries"
  size="large"
  leftImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-objective_toaster_pastries_2024_08_06.png"
  rightImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-trieve_toaster_pastries_2024_08_06.png"
  leftImageAlt="podfoods-objective_toaster_pastries_2024_08_06"
  rightImageAlt="podfoods-trieve_toaster_pastries_2024_08_06"
  leftCaption="Current"
  rightCaption="Trieve"
  leftLink="https://podfoods.co/products?term=toaster%20pastries"
  rightLink="https://podfoods.trieve.ai/?term=toaster%20pastries"
/>

<span>Here are the results for the query variants:</span>

<QueryDiscussion query="healthy toaster pastries">
</QueryDiscussion>

<ImageComparison
  query="healthy toaster pastries"
  size="medium"
  leftImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-objective_healthy_toaster_pastries_2024_08_06.png"
  rightImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-trieve_healthy_toaster_pastries_2024_08_06.png"
  leftImageAlt="podfoods-objective_healthy_toaster_pastries_2024_08_06"
  rightImageAlt="podfoods-trieve_healthy_toaster_pastries_2024_08_06"
  leftCaption="Current"
  rightCaption="Trieve"
  leftLink="https://podfoods.co/products?term=healthy%20toaster%20pastries"
  rightLink="https://podfoods.trieve.ai/?term=healthy%20toaster%20pastries"
/>

<QueryDiscussion query="natural toaster pastries">
</QueryDiscussion>

<ImageComparison
  query="natural toaster pastries"
  size="medium"
  leftImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-objective_natural_toaster_pastries_2024_08_06.png"
  rightImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-trieve_natural_toaster_pastries_2024_08_06.png"
  leftImageAlt="podfoods-objective_natural_toaster_pastries_2024_08_06"
  rightImageAlt="podfoods-trieve_natural_toaster_pastries_2024_08_06"
  leftCaption="Current"
  rightCaption="Trieve"
  leftLink="https://podfoods.co/products?term=natural%20toaster%20pastries"
  rightLink="https://podfoods.trieve.ai/?term=natural%20toaster%20pastries"
/>

<QueryDiscussion query="real fruit toaster pastries">
</QueryDiscussion>

<ImageComparison
  query="real fruit toaster pastries"
  size="medium"
  leftImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-objective_real_fruit_toaster_pastries_2024_08_06.png"
  rightImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-trieve_real_fruit_toaster_pastries_2024_08_06.png"
  leftImageAlt="podfoods-objective_real_fruit_toaster_pastries_2024_08_06"
  rightImageAlt="podfoods-trieve_real_fruit_toaster_pastries_2024_08_06"
  leftCaption="Current"
  rightCaption="Trieve"
  leftLink="https://podfoods.co/products?term=real%20fruit%20toaster%20pastries"
  rightLink="https://podfoods.trieve.ai/?term=real%20fruit%20toaster%20pastries"
/>

 <TextBox>
  The terms **natural**, **healthy**, and **real fruit** are very relevant to the toaster pastries searches and these are terms used throughout the catalog. But the performance comparison can be made even more stark: completely out-of-context terms should not disrupt the rankings when the toaster pastry match is so clear. You can plug in queries like **[martian toaster pastries](https://podfoods.trieve.ai/?term=martian+toaster+pastries)**, **[hello world toaster pastries](https://podfoods.trieve.ai/?term=hello+world+toaster+pastries)**, and **[beautiful toaster pastries](https://podfoods.trieve.ai/?term=beautiful+toaster+pastries)** and in the fulltext search from Trieve you'll still get **[Pod Foods' best toaster pastries](https://podfoods.trieve.ai/?term=Pod+Foods'+best+toaster+pastries)**. That doesn't work in the current search implementation.
 </TextBox>

### Specific Product Variant

Search results in Pod Foods currently are grouped as Product and each product page lists out different variants. Many queries may be focused not on a product as a whole, but a particular variant of that product (sometimes color, flavor, size, etc). Here we tried queries constructed to retrieve a specific product variant. The result quality here is a product of that search user interface decision and the fulltext search model's ability to focus on the query as describing a tea, rather than as a bag-of-words.

<QueryDiscussion query="Orange Blossom Almond tea">
  The current results do not _appear_ to be very relevant at all. But the fourth result is actually quite relevant, a product with a variant that is "Know by Heart - Orange Blossom Almond White Tea". The presentation of the search result does not make the relevance of the result clear to the user. The Trieve demo breaks out the individual product variants, so the relevance of the result (the top result) is more clear.
</QueryDiscussion>

<ImageComparison
  query="Orange Blossom Almond tea"
  size="large"
  leftImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-objective_Orange_Blossom_Almond_tea_2024_08_06.png"
  rightImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-trieve_Orange_Blossom_Almond_tea_2024_08_06.png"
  leftImageAlt="podfoods-objective_Orange_Blossom_Almond_tea_2024_08_06"
  rightImageAlt="podfoods-trieve_Orange_Blossom_Almond_tea_2024_08_06"
  leftCaption="Current"
  rightCaption="Trieve"
  leftLink="https://podfoods.co/products?term=Orange%20Blossom%20Almond%20tea"
  rightLink="https://podfoods.trieve.ai/?term=Orange%20Blossom%20Almond%20tea"
/>


<QueryDiscussion query="grapefruit weird yerba">
  When you search [grapefruit weird yerba](https://podfoods.co/products?term=grapefruit%20weird%20yerba) the first result is labelled "WEIRD Iced Tea, Organic | 12 Pack By Weird Beverages". When you hover over the result, the images cycle through variants of the product. You have to click through to the product page to see the different variant names themselves. This can make it hard for a user to know if the product is what they are looking for or if the search results are relevant at all.
</QueryDiscussion>

<ImageComparison
  query="grapefruit weird yerba"
  size="large"
  leftImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-objective_grapefruit_weird_yerba_2024_08_06.png"
  rightImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-trieve_grapefruit_weird_yerba_2024_08_06.png"
  leftImageAlt="podfoods-objective_grapefruit_weird_yerba_2024_08_06"
  rightImageAlt="podfoods-trieve_grapefruit_weird_yerba_2024_08_06"
  leftCaption="Current"
  rightCaption="Trieve"
  leftLink="https://podfoods.co/products?term=grapefruit%20weird%20yerba"
  rightLink="https://podfoods.trieve.ai/?term=grapefruit%20weird%20yerba"
/>

### Specific Ingredient + Form

Here we focused on searching both the form of the product and a key ingredient. Quality results here also required a retrieval model that could look at the query as a whole, and not as disconnected aspects.

<QueryDiscussion query="raw honey bars">
Here are the current results:

1. ❌ "UPGRADED kalumi BEAUTYfood marine collagen bars"
2. ✅ a bar with raw honey from Honeymoon Chocolates
3. ❌ a bar from Raw Rev. (Where the description says: **"Not a raw food."**)
4. ❌ the "Raw Chocolate Essential Bars" from Rawmio, these are **vegan and do not contain raw honey**.

In Trieve, the top three results are all bars with raw honey.
</QueryDiscussion>

<ImageComparison
  query="raw honey bars"
  size="large"
  leftImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-objective_raw_honey_bars_2024_08_06.png"
  rightImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-trieve_raw_honey_bars_2024_08_06.png"
  leftImageAlt="podfoods-objective_raw_honey_bars_2024_08_06"
  rightImageAlt="podfoods-trieve_raw_honey_bars_2024_08_06"
  leftCaption="Current"
  rightCaption="Trieve"
  leftLink="https://podfoods.co/products?term=raw%20honey%20bars"
  rightLink="https://podfoods.trieve.ai/?term=raw%20honey%20bars"
/>

### Location-based

Here we looked to see if we could retrieve results specific to a location, something important when a retailer wants to include particular styles or flavors on their shelves. These sorts of queries may depend partially on structured metadata (and Pod Foods does have a location dropdown filter on the search page), but in many cases the search query itself should be able to retrieve relevant results.

<QueryDiscussion query="Texas boutique yerba tea">
  The first tests we did were for the Austin-based Weird Beverages brand, which
  did not appear in the top results. The top result for the current search did
  have Texas in its name, but it was a coffee, and not yerba tea. Trieve gets
  the right result even if you use TX instead of Texas: [TX boutique yerba
  tea](https://podfoods.trieve.ai/?term=TX%20boutique%20yerba%20tea). Whereas,
  again due to the lack of effective query and document expansion that SPLADE
  brings us, the current results miss Texas entirely.
</QueryDiscussion>

<ImageComparison
  query="Texas boutique yerba tea"
  size="large"
  leftImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-objective_Texas_boutique_yerba_tea_2024_08_14.png"
  rightImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-trieve_Texas_boutique_yerba_tea_2024_08_14.png"
  leftImageAlt="podfoods-objective_Texas_boutique_tea_yerba_2024_08_13"
  rightImageAlt="podfoods-trieve_Texas_boutique_tea_yerba_2024_08_13"
  leftCaption="Current"
  rightCaption="Trieve"
  leftLink="https://podfoods.co/products?term=Texas%20boutique%20yerba%20tea"
  rightLink="https://podfoods.trieve.ai/?term=Texas%20boutique%20yerba%20tea"
/>


<QueryDiscussion query="Arizona">
Here are the current results:

1. ✅ The first result is from a brand based in Arizona.
2. ❌ The third result is not based in Arizona (but does mention the Sonoran desert).
3. ❌ The rest of the top results are from brands based in Washington, Oregon, California, and Virginia.

In Trieve, all of the top results are from brands based in Arizona.
</QueryDiscussion>

<ImageComparison
  query="Arizona"
  size="large"
  leftImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-objective_Arizona_2024_08_06.png"
  rightImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-trieve_Arizona_2024_08_06.png"
  leftImageAlt="podfoods-objective_Arizona_2024_08_06"
  rightImageAlt="podfoods-trieve_Arizona_2024_08_06"
  leftCaption="Current"
  rightCaption="Trieve"
  leftLink="https://podfoods.co/products?term=Arizona"
  rightLink="https://podfoods.trieve.ai/?term=Arizona"
/>

### Word to the Wise: Cannot ship vector search and simultaneously degrade keyword because that's always the base, most common case

In e-commerce platforms, users often rely on keyword searches to find specific types of products. Some vector search techniques, while powerful, do not support keyword searches well because the terms are often outside the model's training data or domain.

If users are likely to use keyword searches and expect to find specific products, then the retrieval models should be selected (or adapted with rerankers) to support that use case. We address this issue with SPLADE in our fulltext search, and provide the flexibility for the searcher to also use the semantic search or the hybrid search.

<QueryDiscussion query="organic fair-trade cacao Peru coconut sugar raw cacao butter dark chocolate">
  We were looking for a specific product, the [Rawmio Essentials 70% Cacao Dark
  Chocolate Bar](https://podfoods.co/raw-chocolate-essential-bars-rawmio-p10945.html?sku=26894-raw-chocolate-essential-bar-mint&i=765851),
  from which we constructed this keyword search query. In the current search,
  neither the particular bar nor anything from the Rawmio brand appears in the
  top results.
</QueryDiscussion>

<ImageComparison
  query="organic fair-trade cacao Peru coconut sugar raw cacao butter dark chocolate"
  size="large"
  leftImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-objective_organic_fair-trade_cacao_Peru_coconut_sugar_raw_cacao_butter_dark_chocolate_2024_08_06.png"
  rightImageSrc="https://trieve.b-cdn.net/blog/podfoods-relevance-blog/podfoods-trieve_organic_fair-trade_cacao_Peru_coconut_sugar_raw_cacao_butter_dark_chocolate_2024_08_06.png"
  leftImageAlt="podfoods-objective_organic_fair-trade_cacao_Peru_coconut_sugar_raw_cacao_butter_dark_chocolate_2024_08_06"
  rightImageAlt="podfoods-trieve_organic_fair-trade_cacao_Peru_coconut_sugar_raw_cacao_butter_dark_chocolate_2024_08_06"
  leftCaption="Current"
  rightCaption="Trieve"
  leftLink="https://podfoods.co/products?term=organic%20fair-trade%20cacao%20Peru%20coconut%20sugar%20raw%20cacao%20butter%20dark%20chocolate"
  rightLink="https://podfoods.trieve.ai/?term=organic%20fair-trade%20cacao%20Peru%20coconut%20sugar%20raw%20cacao%20butter%20dark%20chocolate"
/>

## Conclusion

Instead of creating a context-free evaluation dataset, we wanted to just highlight the core differences between the search experiences and support self-directed exploration in the **live demo at [podfoods.trieve.ai](https://podfoods.trieve.ai)**.

See the **open source repo on GitHub: [devflowinc/podfoods-discovery](https://github.com/devflowinc/podfoods-discovery)**.
